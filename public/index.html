<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hey Hey First Grade! - Mr. Davis's Class</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            display: ['"Poppins"','ui-sans-serif','system-ui'],
            body: ['"Inter"','ui-sans-serif','system-ui'],
          },
          colors: {
            brand: {
              mustard:'#E0B14A', slate:'#7B8E9E', coral:'#E9867D',
              blush:'#F2C9BE', cream:'#F7EFE2', pebble:'#E6D5B8',
              ink:'#2B2B2B', white:'#FFFFFF'
            }
          },
          boxShadow:{ soft:'0 10px 30px rgba(43,43,43,0.10)' }
        }
      }
    };
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@600;700;800&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBVFcyBYlz3DmCkOervIswwjPf6wwFZlhU",
      authDomain: "first-grade-news-hub.firebaseapp.com",
      projectId: "first-grade-news-hub",
      storageBucket: "first-grade-news-hub.firebasestorage.app",
      messagingSenderId: "472215115326",
      appId: "1:472215115326:web:0d1f2cb7c1d5615676636f",
      measurementId: "G-5SF4RE6KLS"
    };
    // Initialize Firebase with error handling
    let db, auth, storage;
    try {
      firebase.initializeApp(firebaseConfig);
      try { firebase.analytics(); } catch (e) { console.warn('Firebase analytics failed:', e); }
      db = firebase.firestore();
      auth = firebase.auth();
      storage = firebase.storage();
      console.log('Firebase initialized successfully');
    } catch (e) {
      console.error('Firebase initialization failed:', e);
      // Set db to undefined so we can check for it later
      db = undefined;
      auth = undefined;
      storage = undefined;
    }
    
    // Helper function to check authentication before Firestore writes
    async function ensureAuthenticated() {
      if (!auth) {
        throw new Error('Firebase authentication not available');
      }
      if (!auth.currentUser) {
        throw new Error('User not authenticated. Please enter edit mode first.');
      }
      return true;
    }
  </script>
  <!-- (rest of file continues) -->
</head>
<!-- ...truncated for brevity... -->
</html>
